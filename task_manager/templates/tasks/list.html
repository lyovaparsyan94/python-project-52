{% extends 'base.html' %}
{% load i18n %}
{% load django_bootstrap5 %}

{% block content %}
<h1 class="my-4">
    Задачи
</h1>

<!-- Форма фильтрации -->
<form method="get" class="filter-form mb-4">
  <div class="form-group">
      {% bootstrap_field filter.form.status %}
  </div>
  <div class="form-group">
      {% bootstrap_field filter.form.task_label %}
  </div>
  <div class="form-group">
      {% bootstrap_field filter.form.executor %}
  </div>

  <div class="form-group">
    {% bootstrap_field filter.form.own_tasks %}
</div>

  <div>
      <button type="submit" class="btn btn-primary">Показать</button>
      <a href="{% url 'tasks:list' %}" class="btn btn-secondary">Сбросить фильтры</a>
  </div>
</form>
    <a class="btn btn-primary mb-3" href="{% url 'tasks:create' %}">Создать задачу</a>
    <table class="table table-striped">
        <thead>
          <tr>
            <th>айди</th>
            <th>Имя</th>
            <th>Дата создания</th>
            <th>Исполнитель</th>
            <th>Создатель</th>
            <th>Статус</th>
          </tr>
        </thead>
        <tbody>
          {% for task in tasks_list %}
          <tr>
            <td>{{ task.id }}</td>
            <td> <a href="{% url 'tasks:click' task.id %}">{{ task.name }}</a></td>
            <td>{{ task.created_at }}</td>
            <td>{{ task.executor }}</td>
            <td>{{ task.creator }}</td>
            <td>{{ task.status }}</td>
            <td>
              <a href="{% url 'tasks:update' task.id%}">Изменить</a>
              <br>
              <a href="{% url 'tasks:delete' task.id %}">Удалить</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

{% endblock %}
      